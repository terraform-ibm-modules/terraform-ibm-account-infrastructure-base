{
  "products": [
    {
      "name": "deploy-arch-ibm-account-infra-base",
      "label": "Account Infrastructure Base",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "devops",
        "security",
        "solution"
      ],
      "keywords": [
        "base layer",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution",
        "account",
        "iam"
      ],
      "short_description": "Creates and configures the base layer components of an IBM Cloud account",
      "long_description": "This architecture supports creating and configuring the foundational components of an IBM Cloud account. This includes IAM account settings, Activity Tracker routing, Cloud Objects Storage, a trusted profile and associated access groups, and the resource group in which all resources are provisioned.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-base-account-enterprise/blob/main/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/documentation/main/icons/security_icon.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Configures IAM account settings",
          "description": "Configures IAM account settings to meet compliance requirements fof the IBM Cloud Framework for Financial Services."
        },
        {
          "title": "Creates Activity Tracker route and target",
          "description": "Creates Activity Tracker route and target, sending logs to a Cloud Object Storage bucket."
        },
        {
          "title": "Creates access controls",
          "description": "Creates a trusted profile and associated access group to give Projects access to securely deploy solutions in this account."
        },
        {
          "title": "Creates a resource group",
          "description": "Creates resource group where all resources created by this solution are provisioned."
        }
      ],
      "support_details": "This product is in the community registry, as such support is handled through the originated repo. If you experience issues please open an issue in that repository [https://github.com/terraform-ibm-modules/terraform-ibm-account-infrastructure-base/issues](https://github.com/terraform-ibm-modules/terraform-ibm-account-infrastructure-base/issues). Please note this product is not supported via the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "Standard",
          "name": "standard",
          "install_type": "fullstack",
          "working_directory": "solutions/account-infrastructure-base",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.6.0"
              }
            ]
          },
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "cloud-object-storage"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "iam-identity"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "atracker"
            }
          ],
          "architecture": {
            "descriptions": "The Account Infrastructure Base architecture provides a standardized approach to setting up cloud account settings and related audit logging controls as outlined in the IBM Cloud Framework for Financial Services. The architecture includes configurations for IAM settings and access controls that enforce security best practices. Storing Activity Tracker logs in a Cloud Object Storage bucket ensures that the log data is securely retained and easily accessible for analysis, auditing, and compliance purposes. You can use this architecture as a base for deploying additional services and resources in multiple types of accounts, such as administrative or workload accounts.",
            "diagrams": [
              {
                "diagram": {
                  "caption": "Account Infrastructure Base",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-account-infrastructure-base/main/reference-architectures/base-account-enterprise.svg",
                  "type": "image/svg+xml"
                },
                "description": "The Account Infrastructure Base architecture provides a standardized approach to setting up cloud account settings and related audit logging controls as outlined in the IBM Cloud Framework for Financial Services. The architecture includes configurations for IAM settings and access controls that enforce security best practices. Storing Activity Tracker logs in a Cloud Object Storage bucket ensures that the log data is securely retained and easily accessible for analysis, auditing, and compliance purposes. You can use this architecture as a base for deploying additional services and resources in multiple types of accounts, such as administrative or workload accounts."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key",
              "type": "password"
            },
            {
              "key": "skip_iam_account_settings",
              "type": "boolean"
            },
            {
              "key": "region",
              "type": "string",
              "custom_config": {
                "type": "vpc_region",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "generationType": "2"
                }
              }
            },
            {
              "key": "prefix",
              "type": "string"
            },
            {
              "key": "resource_tags",
              "type": "string",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "kms_key_crn",
              "type": "string"
            },
            {
              "key": "cos_bucket_management_endpoint_type",
              "type": "string",
              "options": [
                {
                  "displayName": "Public",
                  "value": "public"
                },
                {
                  "displayName": "Private",
                  "value": "private"
                },
                {
                  "displayName": "Direct",
                  "value": "direct"
                }
              ]
            },
            {
              "key": "allowed_ip_addresses",
              "type": "string",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "provision_atracker_cos",
              "type": "boolean"
            },
            {
              "key": "skip_cos_kms_auth_policy",
              "type": "boolean"
            },
            {
              "key": "security_resource_group_name",
              "type": "string"
            },
            {
              "key": "existing_security_resource_group_name",
              "type": "string",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "audit_resource_group_name",
              "type": "string"
            },
            {
              "key": "existing_audit_resource_group_name",
              "type": "string",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "observability_resource_group_name",
              "type": "string"
            },
            {
              "key": "existing_observability_resource_group_name",
              "type": "string",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "management_resource_group_name",
              "type": "string"
            },
            {
              "key": "existing_management_resource_group_name",
              "type": "string",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "workload_resource_group_name",
              "type": "string"
            },
            {
              "key": "existing_workload_resource_group_name",
              "type": "string",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "edge_resource_group_name",
              "type": "string"
            },
            {
              "key": "existing_edge_resource_group_name",
              "type": "string",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "devops_resource_group_name",
              "type": "string"
            },
            {
              "key": "existing_devops_resource_group_name",
              "type": "string",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "access_token_expiration",
              "type": "string"
            },
            {
              "key": "active_session_timeout",
              "type": "int"
            },
            {
              "key": "api_creation",
              "type": "string",
              "options": [
                {
                  "displayName": "RESTRICTED",
                  "value": "RESTRICTED"
                },
                {
                  "displayName": "NOT_RESTRICTED",
                  "value": "NOT_RESTRICTED"
                },
                {
                  "displayName": "NOT_SET",
                  "value": "NOT_SET"
                }
              ]
            },
            {
              "key": "enforce_allowed_ip_addresses",
              "type": "boolean"
            },
            {
              "key": "inactive_session_timeout",
              "type": "string"
            },
            {
              "key": "max_sessions_per_identity",
              "type": "string"
            },
            {
              "key": "mfa",
              "type": "string",
              "options": [
                {
                  "displayName": "NONE",
                  "value": "NONE"
                },
                {
                  "displayName": "TOTP",
                  "value": "TOTP"
                },
                {
                  "displayName": "TOTP4ALL",
                  "value": "TOTP4ALL"
                },
                {
                  "displayName": "LEVEL1",
                  "value": "LEVEL1"
                },
                {
                  "displayName": "LEVEL2",
                  "value": "LEVEL2"
                },
                {
                  "displayName": "LEVEL3",
                  "value": "LEVEL3"
                }
              ]
            },
            {
              "key": "public_access_enabled",
              "type": "boolean"
            },
            {
              "key": "refresh_token_expiration",
              "type": "string"
            },
            {
              "key": "serviceid_creation",
              "type": "string",
              "options": [
                {
                  "displayName": "RESTRICTED",
                  "value": "RESTRICTED"
                },
                {
                  "displayName": "NOT_RESTRICTED",
                  "value": "NOT_RESTRICTED"
                },
                {
                  "displayName": "NOT_SET",
                  "value": "NOT_SET"
                }
              ]
            },
            {
              "key": "shell_settings_enabled",
              "type": "boolean"
            },
            {
              "key": "skip_cloud_shell_calls",
              "type": "boolean"
            },
            {
              "key": "user_mfa",
              "type": "object"
            },
            {
              "key": "user_mfa_reset",
              "type": "boolean"
            },
            {
              "key": "cos_plan",
              "type": "string",
              "options": [
                {
                  "displayName": "standard",
                  "value": "standard"
                },
                {
                  "displayName": "cos-one-rate-plan",
                  "value": "cos-one-rate-plan"
                }
              ]
            },
            {
              "key": "cos_instance_name",
              "type": "string"
            },
            {
              "key": "cos_instance_access_tags",
              "type": "string",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "cos_bucket_name",
              "type": "string"
            },
            {
              "key": "cos_bucket_access_tags",
              "type": "string",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "cos_bucket_expire_enabled",
              "type": "boolean"
            },
            {
              "key": "cos_bucket_expire_days",
              "type": "int"
            },
            {
              "key": "cos_bucket_object_versioning_enabled",
              "type": "boolean"
            },
            {
              "key": "cos_bucket_storage_class",
              "type": "string"
            },
            {
              "key": "cos_bucket_archive_enabled",
              "type": "boolean"
            },
            {
              "key": "cos_bucket_archive_days",
              "type": "int"
            },
            {
              "key": "cos_bucket_archive_type",
              "type": "string",
              "options": [
                {
                  "displayName": "Glacier",
                  "value": "Glacier"
                },
                {
                  "displayName": "Accelerated",
                  "value": "Accelerated"
                }
              ]
            },
            {
              "key": "cos_bucket_retention_enabled",
              "type": "boolean"
            },
            {
              "key": "cos_bucket_retention_default",
              "type": "int"
            },
            {
              "key": "cos_bucket_retention_maximum",
              "type": "int"
            },
            {
              "key": "cos_bucket_retention_minimum",
              "type": "int"
            },
            {
              "key": "cos_bucket_retention_permanent",
              "type": "boolean"
            },
            {
              "key": "skip_atracker_cos_iam_auth_policy",
              "type": "boolean"
            },
            {
              "key": "cos_target_name",
              "type": "string"
            },
            {
              "key": "activity_tracker_route_name",
              "type": "string"
            },
            {
              "key": "activity_tracker_locations",
              "type": "string",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "provision_trusted_profile_projects",
              "type": "boolean"
            },
            {
              "key": "trusted_profile_name",
              "type": "string"
            },
            {
              "key": "trusted_profile_description",
              "type": "string"
            },
            {
              "key": "trusted_profile_roles",
              "type": "string",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            }
          ]
        }
      ]
    }
  ]
}
